---
title: 计算机网络复习笔记
date: 2021-01-17 10:08
tags:
- 计算机网络
---
# 网络安全
## 安全威胁
![](1.png)
如图,被动攻击和主动攻击的主要区别就在于,目的站最终有没有收到本应收到的信息
### 1. 被动攻击  
+ 区分:目的站可以收到源站的信息,攻击者没有干扰信息流  
+ 截获/流量分析: 指攻击者从网络上窃听他人的通信内容。在被动攻击中，攻击者只是观察和分析某一个协议数据单元 PDU，以便了解所交换的数据的某种性质。但不干扰信息流。  
+ 应对方法： 数据加密  

### 2. 主动攻击  
+ 区分: 目的站收到的不是源站的信息  
+ 分类：  

    1. 篡改————故意篡改网络上传送的报文。这种攻击方式有时也称为更改报文流
    2. 恶意程序————种类繁多，对网络安全威胁较大的主要包括：计算机病毒、计算机蠕虫、特洛伊木马、逻辑炸弹、后门入侵、流氓软件等。
    3. 拒绝服务————指攻击者向互联网上的某个服务器不停地发送大量分组，使该服务器无法提供正常服务，甚至完全瘫痪。    
+ 应对方法： 加密技术与适当的鉴别技术相结合

## 密钥体制  
### 1.对称密钥  
一对一通道
加密密钥与解密密钥是相同的密码体制。加密和解密双方共享密钥  
### 2. 公钥私钥  
多对一通道
使用不同的加密密钥与解密密钥。  
+ 公钥密码体制出现的原因：  
    1. 常规密钥密码体制的密钥分配问题。（不用存储那么多）  
    2. 对数字签名的需求   
+ 加密密钥： 向公众公开的  
+ 解密密钥： 需要保密的  
*私钥 SK 是由公钥PK 决定的，但却不能根据 PK 计算出 SK*
### 3. 数字签名  
与公钥密码相反，公钥密码使用公开的密钥加密，私有密钥解密。  
数字签名使用公开密钥解密，私有密钥加密。  
## 防火墙  
+ 定义：防火墙是由软件、硬件构成的系统，是一种特殊编程的路由器，用来在两个网络之间实施访问控制策略
+ 可信网络： 防火墙内的网络
+ 不可信网络： 防火墙外的网络  
+ 功能：  
    1. 阻止（主要功能）：就是阻止某种类型的通信量通过防火墙
    2. 允许    
+ 实现防火墙的技术：
    1. 分组过滤路由器： 根据过滤规则对进出内部网络的分组执行转发或者丢弃（即过滤）。过滤规则基于分组的**网络层**或**运输层**首部的信息。  
    2. 应用网关/代理服务器  
    在应用层通信中扮演报文中继的角色，可以实现基于应用层数据的过滤和高层用户鉴别  

# 应用层  
## DNS
+ DNS 域名服务器都把数据复制到几个域名服务器来保存，其中的一个是主域名服务器，其他的是辅助域名服务器
+ 当主域名服务器出故障时，辅助域名服务器可以保证 DNS 的查询工作不会中断  

### 根域名服务器
+ 定义：最高层次的域名服务器，也是最重要的域名服务器
*在互联网上共有 13 个不同 IP 地址的根域名服务器，它们的名字是用一个英文字母命名，从 a  一直到 m。根域名服务器共有 13 套装置，不是 13 个机器*
### 顶级服务器（Top Level Domain）TLD
负责管理在该顶级域名服务器注册的所有二级域名
### 权限域名服务器
+ 负责一个区的域名服务器
+ 当一个权限域名服务器还不能给出最后的查询回答时，就会告诉发出查询请求的 DNS 客户，下一步应当找哪一个权限域名服务器。    

### 本地域名服务器
+ 当一个主机发出 DNS 查询请求时，这个查询请求报文就发送给本地域名服务器
+ 每一个互联网服务提供者 ISP，或一个大学，甚至一个大学里的系，都可以拥有一个本地域名服务器

### 递归查询  
![](dfs.png)
主机向本地域名服务器的查询一般都是采用递归查询。如果主机所询问的本地域名服务器不知道被查询域名的 IP 地址，那么本地域名服务器就以 DNS 客户的身份，向其他根域名服务器继续发出查询请求报文。  
### 迭代查询   
![](ite.png)
本地域名服务器向根域名服务器的查询通常是采用迭代查询。当根域名服务器收到本地域名服务器的迭代查询请求报文时，要么给出所要查询的 IP 地址，要么告诉本地域名服务器：“你下一步应当向哪一个域名服务器进行查询”。然后让本地域名服务器进行后续的查询。  
### 域名服务器缓存
+ 每个域名服务器都维护一个高速缓存，存放最近用过的名字以及从何处获得名字映射信息的记录  
+ 域名服务器为每项内容设置计时器保持高速缓存中的内容正确  
+ 减轻服务器负荷，使互联网上的DNS查询和回应报文数量减少  
## FTP
+ 定义：文件传送协议，提供文件传送的一些基本的服务
+ 减少或消除在不同操作系统下处理文件的不兼容性
+ 使用 TCP 可靠的运输服务。
+ 使用客户服务器方式，服务器进程由两大部分组成：一个主进程，负责接受新的请求；另外有若干个从属进程，负责处理单个请求
+ 使用了两个TCP连接，在服务器端：一个连接用于控制进程（主进程）端口号为21又称熟知端口，一个连接用于数据运输进程（从进程，处理请求并发送/处理数据）端口号为20  
*ps: NFS（Network File System） 允许应用进程打开一个远地文件，并能在该文件的某一个特定的位置上开始读写数据,NFS主要还是用于分布式存储问题中*  
## Telnet  
简单的远程终端协议,TELNET 能将用户的击键传到远地主机，同时也能将远地主机的输出通过 TCP 连接返回到用户屏幕。这种服务是透明的，因为用户感觉到好像键盘和显示器是直接连在远地主机上  
+ 客户服务器模式，类似FTP  

## 万维网  
**理解：其实这是一个概念性的东西，即平时浏览器和服务器交接这些方式就可以认为是在万维网上运行的。定义了浏览器就是客户，服务器就是存放了各种资源的计算机。即虽然有ip地址用于表示每一台计算机在互联网中的位置，但是对于每一台计算机上的每一种资源如图片、文档等，都需要标识，因为客户要的就是服务器上的某个物品，还有如何处理服务器要向客户展示自己的信息等，这就是万维网的意义，把这些体验的问题都解决了。万维网是基于HTTP的，所以对用户封装了底部的HTTP访问细节，用户只需要知道目标地址的域名即可访问目标页面。也即帮用户把复杂的细节封装了，用户看到的就是几个简单的链接。**
+ 定义：并非某种特殊的计算机网络,而是一个大规模的、联机式的信息储藏所  
+ 客户-服务器方式工作  
+ 浏览器就是在用户计算机上的万维网客户程序。万维网文档所驻留的计算机则运行服务器程序，因此这个计算机也称为万维网服务器。
+ （重点）万维网寻找某一个资源：统一资源定位符URL，标志万维网上的各种文档。例如一个html页面或者一张图片在万维网上应该在哪里。www.retonliu.html，这就是retonliu的html文件标识符。  
+ （重点）在万维网客户程序与万维网服务器程序之间进行交互所使用的协议，是超文本传送协议 HTTP ,**理解：万维网是建立在HTTP协议之上的**  
+ （重点）万维网显示页面: HTML（超文本标记语言 ），使得万维网页面的设计者可以很方便地用一个超链从本页面的某处链接到互联网上的任何一个万维网页面，并且能够在自己的计算机屏幕上将这些页面显示出来。  
+ 搜索引擎： 为了在万维网上方便地查找信息，用户可使用各种的搜索工具  

## HTTP  
+ 定义：面向事务的 (transaction-oriented) 应用层协议，它是万维网上能够可靠地交换文件（包括文本、声音、图像等各种多媒体文件）的重要基础  
+ 使用了面向连接的 TCP 作为运输层协议  
+ 是面向事务的客户服务器协议  
+ HTTP 1.0 协议是无状态的 (stateless)——每次访问是一样的
+ HTTP/1.1 协议使用持续连接

### cookie
在 HTTP 服务器和客户之间传递的状态信息。
使用 Cookie 的网站服务器为用户产生一个唯一的识别码。利用此识别码，网站就能够跟踪该用户在该网站的活动。

### XML
设计宗旨是传输数据，而不是显示数据

# 邮件协议
## SMTP  
![](smtp.png)
基于TCP,端口号为25
简单邮件发送协议 SMTP（Simple Mail Transfer Protocol ）：用于在用户代理向邮件服务器或邮件服务器之间发送邮件。  
1. SMTP 规定了在两个相互通信的 SMTP 进程交换信息的方法。
2. SMTP 使用客户–服务器方式。
3. SMTP 基于 TCP 实现客户与服务器的通信  
4. MIME是对SMTP的拓展，使得客户可以在邮件中传送文件和图片等

## POP3 
基于TCP 
邮局协议 POP3（Post Office Protocol）：用于用户代理从邮件服务器读取邮件  
## IMAP
网际报文存取协议，用户从目的邮件服务器上读取邮件所使用的协议。  
**IMAP的部分操作是客户端与邮箱更新同步，而PO3是仅在客户端内**  

# DHCP
在协议软件中，给协议参数赋值的动作叫做协议配置。互联网广泛使用的动态主机配置协议 DHCP提供了即插即用连网。这种机制允许一台计算机加入新的网络和获取 IP 地址，而不用手工配置（手机加入一个新地区的网络，请求IP地址）
1. DHCP给：
    1. 运行服务器软件、且位置固定的计算机指派一个永久地址。
    2. 给运行客户端软件的计算机分配一个临时地址  
2. 客户-服务器方式，请求/应答方式
3. 基于UDP工作，服务器运行在67号端口，客户运行在68号端口

## SNMP
网管
+ UDP
+ 用 get 报文来检测各被管对象的状况  
+ 用 set 报文来改变各被管对象的状况  
+ （轮询）探询操作 —— SNMP 管理进程定时向被管理设备周期性地发送探询信息  
+ 同时也采用陷阱机制（不经过询问就能发送某些信息）报告特殊事件，使得 SNMP 成为一种有效的网络管理协议  
## 套接字
+ socket  
+ send发送，recv接收  
## P2P
解决了集中式媒体服务器可能出现的瓶颈问题  
+ 洪流： 所有对等方集合  
+ 文件快： 下载文件的数据单元为长度固定的文件快
+ TCP  
+ 下载：从互联网到主机  
+ 上传： 主机到互联网
### BT协议  
问：哪些文件块是首先需要向其相邻对等方请求的？
```
A 使用最稀有的优先 (rarest first) 的技术，首先向其相邻对等方请求对应的文件块。
所谓稀有是指：如果A所缺少的文件块在相邻对等方中的副本很少，那就是“很稀有的”
```  
问：在很多向A请求文件块的相邻对等方中，A应当向哪些相邻对等方发送所请求的文件块？  
```
凡当前以最高数据率向 A 传送文件块的某相邻对等方，A 就优先把所请求的文件块传送给该相邻对等方
```

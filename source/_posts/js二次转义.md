---
title: RegExp构造函数二次转义
date: 2020-11-20 22:54
tags:
- javascript
---

不同于正则字面量表示法，RegExp构造函数中对于元字符和转义符字符序列需要二次转义。
因为在字符串当中，\表示转义符，而在正则表达式当中\也表示转义符。所以在构造函数当中需要使用二次转义。
比如如下实验例子，想要生成一个可以匹配 \\.at的正则表达式:
```
const rel1 = new RegExp("\.at");
const rel2 = new RegExp("\\.at");
console.log(rel1);
console.log(rel2); 

输出结果如下：
/.at/
/\.at/
```
可以看到只有rel2才是符合预期的。这是因为在字符串当中，\已经是具有转义的作用了，所以它会对其后的元字符或者转义序列进行一次转义，转了之后即消耗掉了这一次的\，但是这个字符串是要充当正则表达式的匹配的，所以还需要一次\来补充。

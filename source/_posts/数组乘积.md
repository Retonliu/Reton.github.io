---
title: 除自身以外数组乘积
date: 2020-12-13 08:53
tags:
- 数组
- 算法
---
>题目地址：https://leetcode-cn.com/problems/product-of-array-except-self
思路： 最简单的方法就是直接暴力法，但是时间复杂度不能超过O(n)，所以暴力法行不通。第二个方法就是求出所有数的乘积，对于每个数使用除法，但题目限制了不要用这种做法，这不是题目要考察的目的。思考一下暴力法如何进化，暴力法的目的，就是对于每个给定的数，求出它左边的所有数的乘积，以及右边所有数的乘积，然后两边乘起来就是答案，由于数组的特性，所有对于每一个数左右两边的乘积其实是有重叠部分的，例如对于数组[1, 2, 3, 4], 3左边的乘积是1*2，而4左边的乘积是1*2*3，重合了1*2，所以对于每一个数，左边的乘积都可以利用左边那个数左边的乘积，乘以左边那个数来得到，这就把暴力法不必要的计算去掉，时间复杂度直接降到了O(n)，有点动态规划的味道。

代码：
```
/**
 * @param {number[]} nums
 * @return {number[]}
 */
var productExceptSelf = function(nums) {
    let left = [],
        len = nums.length
        right = [];
    
    left[0] = 1;
    right[len-1] = 1;
    for (let i = 1; i < len; i++) {
        left[i] = nums[i-1] * left[i-1];
    }
    for (let i = len - 2; i >= 0; i--) {
        right[i] = nums[i + 1] * right[i+1];
    }
    for (let i = 0; i < len; i++) {
        nums[i] = left[i] * right[i];
    }
    return nums;
};
```
